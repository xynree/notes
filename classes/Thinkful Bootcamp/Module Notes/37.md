37.4 - Database Architecture

- Primary KEY: UUID for each field.
- Fields: Includes data type for what kind of data field can store

37.5 - Creating and Viewing Tables (DDL)

- DDL: subset of SQL used to define tables in a db
- PGSQL consists of 1+ table
- 4 types of commands:
  - DDL (this lesson), DQL, DML, DCL (for data admins)
- Most common commands:
  - CREATE, ALTER, TRUNCATE, DROP

- CREATE TABLE table_name{
  column_name data_type column constraint [,]
}
  - col def- at least one for each table. Describes a column
  - if no explicit default, NULL is default
  - make one column primary key
  - ex: user_id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY

- IF NOT EXISTS (create table only if it dosn' texist)
- Listing tables:

- SELECT table_name FROM incformation.tables WHERE table_schema = 'public' ORDER BY table_name

- Alter/Drop Table toadjust

- ALTER TABLE <table name> ADD COLUMN IF NOT EXISTS <column definition>;

- ALTER TABLE <table name> DROP IF EXISTS COLUMN <column name>;

- SET NOT NULL using ALTER TABLE

- Table drop
- DROP TABLE IF EXISTS name;

37.6 Inserting Data (DML)

- Inserting into Table:
  
```sql
INSERT INTO <tablename>
(<column list>)
VALUES(<value list>)
```
```sql
INSERT INTO articles
  (title, abstract, author)
  VALUES (
    'Five uses for paper that you never imagined',
    'List five surprising uses for paper that you would not think of on your own',
    'Dwight Schrute'
  );
  ```

- Column list: comma separated list of column names

- Select

`SELECT * FROM articles;`

- Insert multiple articles with comma separated elems
```sql
INSERT
	INTO
	articles (title, abstract, author)
VALUES
	(
	  'The year of PostgreSQL is every year',
	  'PostgreSQL development began during the Reagan administration â€” in 1986!',
	  'Gerik Haslegrave'
	),
	(
	  'A Getting Started PostgreSQL Tutorial',
	  'PostgreSQL is a free open source database system that uses and extends the SQL language',
	  'Calv Baudrey'
	),
	(
	  'Experimenting with PostgreSQL in a Container',
	  'When I heard I needed a PostgreSQL database, I immediately thought container.',
	  'Gracie Brann'
	);
  ```

- SQL Script Files
- Write a number of SQL statements in a file and then execute them to rerun script.

37.8 Updating/Deleting Syntax

- Update

```sql
UPDATE table_name
SET name1 = 'val'

UPDATE employees
SET fax = DEFAULT;

UPDATE employees
SET reports = 'z..'
WHERE reports = '...'
```

- Delete

```sql
DELETE FROM employees
WHERE job_title = '' and reports = ''
```

- Truncate: deletes all rows (better optimized)

```sql
TRUNCATE TABLE products
TRUNCATE TABLE name1, name2
```